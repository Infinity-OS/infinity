#!/bin/sh

#
# This script is used to configure some variables for the build system
#
# Args:
#   - Prefix for the tools (when not present use '/usr/local')
#
# TODO:
#  - parse arguments as options (--option=value)

##########################################################
# This function is simple a banner to introduce the script
##########################################################
banner ()
{
    echo "+----------------------------------------+"
    echo "|-------- Welcome to Infinity OS --------|"
    echo "+----------------------------------------+"
}

# Fetch Git submodules
git submodule update --recursive --init

# Show banner
banner

# Set the prefix parameter
if [ -z "$1" ]; then
    prefix=
else
    prefix=$1
fi

# This check if we are on a macOS system
ismac() {
	uname -s | grep Darwin
}

# Header message for the generated file
cat > config.mak <<- EOM
# This was automatically generated by the ./configure script. Please don't apply
# changes to this file, do it on the script file.

EOM

echo prefix=$prefix>>config.mak

echo done, now run make
